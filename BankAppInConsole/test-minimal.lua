UserData={};UserData={Haslo=nil,Login=nil,Pesel=nil,Datau=nil,Imie=nil,Nazw=nil,ID=math.random(0,9999999999),StanKonta=math.random(10000,10000000),NRKonta=0,KwotaPrzelewu=0,RodzajPrzelwu=0,datePattern="%d%d/%d%d/%d%d%d%d",currentTime=os.date("*t"),BankName="SanBank",LiniaGruba="=================================================\n",LiniaCieka="-------------------------------------------------\n"};function MenuGlowne()print([[
        =================================================
        MENU GŁÓWNE BANKU 
        =================================================
        1. Stan konta
        2. Przelew pieniężny
        3. Karta kredytowa
        4. Lokaty
        5. Kredyty
        6. Ustawienia konta
        7. Kontakt z obsługą klienta
        8. Wyloguj się
        -------------------------------------------------
        Proszę wybrać odpowiednią opcję, wpisując jej numer:
        ]]);local v1=readConsoleInput("Numer wybranej opcji:");if (tonumber(v1)==1) then print("Trwa ladowanie Zakladki ┆          ┆");os.execute("sleep 1");print("Trwa ladowanie Zakladki ┆█         ┆");os.execute("sleep 1");print("Trwa ladowanie Zakladki ┆███       ┆");os.execute("sleep 1");print("Trwa ladowanie Zakladki ┆████      ┆");os.execute("sleep 1");print("Trwa ladowanie Zakladki ┆█████     ┆");os.execute("sleep 1");print("Trwa ladowanie Zakladki ┆██████    ┆");os.execute("sleep 1");print("Trwa ladowanie Zakladki ┆███████   ┆");os.execute("sleep 1");print("Trwa ladowanie Zakladki ┆████████  ┆");os.execute("sleep 1");print("Trwa ladowanie Zakladki ┆█████████ ┆");os.execute("sleep 1");print("Trwa ladowanie Zakladki ┆██████████┆");os.execute("sleep 1");print(UserData.LiniaGruba);print(UserData.LiniaGruba);print("STAN KONTA");print(UserData.LiniaGruba);print("Aktualny stan konta: "   .. UserData.StanKonta );print("Powrót do menu głównego: 1");print(UserData.LiniaCieka);local v15=readConsoleInput("Wybierz jedną z wyżej wymienionych opcji:");if (tonumber(v15)==1) then MenuGlowne();end elseif (tonumber(v1)==2) then print(UserData.LiniaGruba);print(UserData.LiniaGruba);print("PRZELEW PIENIĘŻNY");print(UserData.LiniaGruba);local v20=readConsoleInput("Wpisz numer konta, na który chcesz wysłać przelew:");UserData.NRKonta=v20;local v20=readConsoleInput("Wpisz kwotę przelewu, jaki chcesz wykonać:");if (tonumber(v20)<=tonumber(UserData.StanKonta)) then UserData.KwotaPrzelewu=v20;local v31=readConsoleInput("Jaki rodzaj przelewu chcesz wykonać?\nZwykły - 1\nEkspresowy - 2\n");UserData.RodzajPrzelwu=v31;if (tonumber(UserData.RodzajPrzelwu)==1) then UserData.RodzajPrzelwu="Ekspresowy";else UserData.RodzajPrzelwu="Standardowy";end print("Udało się wysłać przelew "   .. UserData.RodzajPrzelewu   .. " do "   .. UserData.NRKonta   .. " o wartości "   .. UserData.KwotaPrzelewu   .. " PLN.\nZa 5 sekund zostaniesz przeniesiony do menu głównego." );UserData.StanKonta=UserData.StanKonta-UserData.KwotaPrzelewu ;os.execute("sleep 5");MenuGlowne();else repeat print("Nie masz takiej kwoty na koncie.");os.execute("sleep 1");local v36=readConsoleInput("Wpisz kwotę przelewu, jaki chcesz wykonać (Maks. = "   .. UserData.StanKonta   .. ")" );until v20<=UserData.StanKonta  end print("Powrót do głównego menu: 1");print(UserData.LiniaCieka);local v20=readConsoleInput("");if (tonumber(v20)==1) then MenuGlowne();end elseif (tonumber(v1)==3) then print(UserData.LiniaGruba);print(UserData.LiniaGruba);print("KARTA KREDYTOWA");print(UserData.LiniaGruba);print("\nNumer karty: 3152 2552 1232 1222\nWłaściciel: "   .. UserData.Imie   .. " "   .. UserData.Nazw   .. "\nData ważności: 20/24\nCVC: 222\n" );print("Powrót do głównego menu: 1");print(UserData.LiniaCieka);local v34=readConsoleInput("Wybierz jedna z ww. opcji:");if (tonumber(v34)==1) then MenuGlowne();end elseif (tonumber(v1)==4) then print(UserData.LiniaGruba);print(UserData.LiniaGruba);print("LOKATY");print(UserData.LiniaGruba);print("\nNie masz żadnych lokat.\n");print("Powrót do głównego menu: 1");print(UserData.LiniaCieka);local v41=readConsoleInput("Wybierz jedna z ww. opcji:");if (tonumber(v41)==1) then MenuGlowne();end elseif (tonumber(v1)==5) then print(UserData.LiniaGruba);print(UserData.LiniaGruba);print("KREDYTY");print(UserData.LiniaGruba);print("\n BRAK DOSTEPNYCH KREDYTOW DLA NOWYCH KONT\n");print("Powrót do głównego menu: 1");print(UserData.LiniaCieka);local v43=readConsoleInput("Wybierz jedna z ww. opcji:");if (tonumber(v43)==1) then MenuGlowne();end elseif (tonumber(v1)==6) then print(UserData.LiniaGruba);print(UserData.LiniaGruba);print("USTAWIENIA KONTA");print(UserData.LiniaGruba);print("Powrót do głównego menu: 1");print("Zmiana Hasla : 2");print("Zmiana Loginu : 3");print("Usun Konto : 4");print(UserData.LiniaCieka);local v44=readConsoleInput("Wybierz jedna z ww. opcji:");if (tonumber(v44)==1) then MenuGlowne();elseif (tonumber(v44)==2) then local v45=readConsoleInput("Wprowadz nowe Haslo: ");UserData.Haslo=v45;local v47=string.match(v45,"%u")~=nil ;local v48=string.match(v45,"%l")~=nil ;local v49=string.match(v45,"[%p]")~=nil ;local v50=string.match(v45,"%d")~=nil ;if (v47 and v48 and v49 and v50) then UserData.Haslo=v45;print("Udało ci się zmienić hasło w "   .. UserData.BankName   .. ".\nZa 5 sekund zostaniesz wylogowany.\n" );os.execute("sleep 5");LoginFun(UserData.Haslo,UserData.Login,UserData.Pesel,UserData.Datau,UserData.Imie,UserData.Nazw,UserData.ID);else repeat print("Hasło musi zawierać co najmniej jedną dużą literę, jedną małą literę, jeden znak specjalny i jedną cyfrę.\n");local v56=readConsoleInput("Podaj hasło:");until v47 and v48 and v49 and v50  end elseif (tonumber(v44)==3) then local v54=readConsoleInput("Wprowadź własny login: ");UserData.Login=v54;print("Udało ci się zmienić login w "   .. UserData.BankName   .. ".\nZa 5 sekund zostaniesz wylogowany.\n" );UserData.Login=v54;os.execute("sleep 5");LoginFun(UserData.Haslo,UserData.Login,UserData.Pesel,UserData.Datau,UserData.Imie,UserData.Nazw,UserData.ID);elseif (tonumber(v44)==4) then local v57=readConsoleInput("Czy jesteś pewien, że chcesz usunąć konto?\nWpisz TAK / NIE ");if (v57=="TAK") then UserData.Haslo=nil;UserData.Login=nil;UserData.Pesel=nil;UserData.Datau=nil;UserData.Imie=nil;UserData.Nazw=nil;UserData.ID=math.random(0,9999999999);UserData.StanKonta=math.random(10000,10000000);print("Udało ci się usunąć konto w "   .. UserData.BankName   .. ".\nZa 5 sekund zostaniesz wylogowany.\n" );os.execute("sleep 5");LoginFun(UserData.Haslo,UserData.Login,UserData.Pesel,UserData.Datau,UserData.Imie,UserData.Nazw,UserData.ID);elseif (v57=="NIE") then print("Za 5 sekund zostaniesz przeniesiony do menu głównego.");os.execute("sleep 5");MenuGlowne();else print("Zastosuj się do odpowiedniego formatu: TAK / NIE.\n");local v66=readConsoleInput("Czy jesteś pewien, że chcesz usunąć konto? ");if (v66=="TAK") then UserData.Haslo=nil;UserData.Login=nil;UserData.Pesel=nil;UserData.Datau=nil;UserData.Imie=nil;UserData.Nazw=nil;UserData.ID=math.random(0,9999999999);UserData.StanKonta=math.random(10000,10000000);elseif (v66=="NIE") then print("Za 5 sekund zostaniesz przeniesiony do menu głównego.");os.execute("sleep 5");MenuGlowne();else print("Za 5 sekund zostaniesz przeniesiony do menu głównego.");os.execute("sleep 5");MenuGlowne();end end end elseif (tonumber(v1)==7) then if ((UserData.currentTime.hour>=8) and (UserData.currentTime.hour<18)) then print(UserData.LiniaGruba);print(UserData.LiniaGruba);print("Obsługa klienta");print(UserData.LiniaGruba);print("Obsługa klienta jest dostępna. Zapraszamy do kontaktu pod nr 666-666-666.");print("Powrót do menu głównego: 1");print(UserData.LiniaCieka);local v51=readConsoleInput("Wybierz jedna z ww. opcji:");if (tonumber(v51)==1) then MenuGlowne();end print(UserData.LiniaCieka);else print(UserData.LiniaGruba);print(UserData.LiniaGruba);print("Obsługa klienta");print(UserData.LiniaGruba);print("Obsługa klienta jest niedostępna poza godzinami 8:00-18:00 od poniedziałku do piątku. Zapraszamy w godzinach otwarcia.");print("Powrót do menu głównego: 1");print(UserData.LiniaCieka);local v52=readConsoleInput("Wybierz jedna z ww. opcji:");if (tonumber(v52)==1) then MenuGlowne();end print(UserData.LiniaCieka);end elseif (tonumber(v1)==8) then print("Za 5 sekund zostaniesz wylogowany. Miłego dnia życzy "   .. UserData.BankName   .. "." );os.execute("sleep 5");LoginFun(UserData.Haslo,UserData.Login,UserData.Pesel,UserData.Datau,UserData.Imie,UserData.Nazw,UserData.ID);end end function LoginFun(v2,v3,v4,v5,v6,v7,v8)print("Witamy w oknie Logowania");local v9=readConsoleInput("\n\nPodaj swój login (Imię + Pierwsze 4 cyfry numeru PESEL):");if (v9==v3) then local v16=readConsoleInput("Podaj swoje hasło:");if (v16==v2) then print("Witamy w naszej aplikacji banku「✔ ᵛᵉʳᶦᶠᶦᵉᵈ」\n");os.execute("sleep 5");MenuGlowne();else repeat print("Podane hasło jest nie prawidłowe.");os.execute("sleep 1");local v23=readConsoleInput("Podaj swoje hasło:");until v16==v2  end else repeat print("Nie posiadamy takiego użytkownika w naszym banku."   .. "\nZapraszamy do ponownego uruchomienia aplikacji i utworzenia konta, jeśli to błąd, zaloguj się ponownie." );os.execute("sleep 1");print("Podaj swój login (Imię + Pierwsze 4 cyfry numeru PESEL):");local v17=readConsoleInput("Podaj swój login:");until v9==v3  end end function readConsoleInput(v10)io.write(v10);return io.read();end print("Witamy w twojej elektronicznej bankowości banku "   .. UserData.BankName   .. ", zaloguj się lub zarejestruj."   .. "\nWpisz 1, jeśli chcesz się zalogować, lub 2, jeśli chcesz utworzyć konto." );local v0=readConsoleInput("Wybierz, co chcesz zrobić:");if (tonumber(v0)==1) then LoginFun(UserData.Haslo,UserData.Login,UserData.Pesel,UserData.Datau,UserData.Imie,UserData.Nazw,UserData.ID);else print("Witamy w naszym banku "   .. UserData.BankName   .. ", prosimy o wprowadzenie swoich danych, aby utworzyć konto.\n" );local v11=readConsoleInput("Podaj swoje Imię:");UserData.Imie=v11;local v11=readConsoleInput("Podaj swoje Nazwisko:");UserData.Nazw=v11;local v11=readConsoleInput("Podaj swoją datę urodzenia (w formacie: "   .. os.date("%x"):gsub("(%d+)/(%d+)/(%d+)","%1/%2/20%3")   .. "):" );local v14=string.match(v11,UserData.datePattern)~=nil ;if v14 then UserData.Datau=v11;local v19=readConsoleInput("Podaj swój Pesel:");if (string.len(v19)==11) then UserData.Pesel=v19;local v25=readConsoleInput("Podaj Hasło:");local v26=string.match(v25,"%u")~=nil ;local v27=string.match(v25,"%l")~=nil ;local v28=string.match(v25,"[%p]")~=nil ;local v29=string.match(v25,"%d")~=nil ;if (v26 and v27 and v28 and v29) then UserData.Haslo=v25;UserData.Login=UserData.Imie   .. string.sub(UserData.Pesel,1,4) ;print("Udało ci się utworzyć konto w naszym banku "   .. UserData.BankName   .. ".\nZa 5 sekund zostaniesz przekierowany do okna logowania.\n" );os.execute("sleep 5");LoginFun(UserData.Haslo,UserData.Login,UserData.Pesel,UserData.Datau,UserData.Imie,UserData.Nazw,UserData.ID);else repeat print("Hasło musi zawierać co najmniej jedną dużą literę, jedną małą literę, jeden znak specjalny i jedną cyfrę.\n");local v42=readConsoleInput("Podaj Hasło:");v26=string.match(v42,"%u")~=nil ;v27=string.match(v42,"%l")~=nil ;v28=string.match(v42,"[%p]")~=nil ;v29=string.match(v42,"%d")~=nil ;until v26 and v27 and v28 and v29  end else repeat print("Niepoprawna długość Peselu. Wprowadź 11 cyfr.\n");local v35=readConsoleInput("Podaj swój Pesel:");until string.len(v19)==11  end else repeat print("Wprowadzono niepoprawny format daty urodzenia.");local v22=readConsoleInput("Podaj swoją datę urodzenia (w formacie: "   .. os.date("%x"):gsub("(%d+)/(%d+)/(%d+)","%1/%2/20%3")   .. "):" );v14=string.match(v22,UserData.datePattern)~=nil ;until v14 end end